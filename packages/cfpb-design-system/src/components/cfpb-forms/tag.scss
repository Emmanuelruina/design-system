@use 'sass:math';
@use '@cfpb/cfpb-design-system/src/abstracts' as *;
@use '@cfpb/cfpb-design-system/src/utilities' as *;
@use '@cfpb/cfpb-design-system/src/components/cfpb-typography/mixins' as *;

/* ==========================================================================
   consumerfinance.gov
   tag
   ========================================================================== */

// Filter tags appear in filtered contexts, often as part of multiselects.
.a-tag-filter {
  display: flex;
  gap: math.div(10px, $btn-font-size) + rem;

  border: 1px solid var(--teal);
  padding: 4px 6px;
  background-color: var(--teal-20);
  border-radius: math.div(3px, $base-font-size-px) + rem;
  color: var(--black);

  &:hover {
    background-color: var(--teal-40);
    cursor: pointer;
  }

  &:focus {
    outline: 1px dotted var(--teal);
    outline-offset: 1px;
  }

  &:active {
    background-color: var(--teal);
  }

  .cf-icon-svg {
    pointer-events: none;
  }
}

a.a-tag-filter {
  // Colors for :link, :visited, :hover, :focus, :active.
  @include u-link-colors(
    var(--black),
    var(--black),
    var(--black),
    var(--black),
    var(--black)
  );
}

// Topic tags
.a-tag-topic {
  display: flex;
  gap: math.div(5px, $btn-font-size) + rem;

  @include u-jump-link(
    $is-gold: true,
    $jump-link-text-class: 'a-tag-topic__text'
  );
}
@include u-jump-link-group($jump-link-class: 'a-tag-topic');

.a-tag-topic__bullet {
  font-size: 1rem;
  line-height: 1rem;
}

// Tablet and above.
@include respond-to-min($bp-sm-min) {
  .a-tag-topic__text {
    // Colors for :link, :visited, :hover, :focus, :active
    @include u-link-colors(
      var(--gray),
      var(--gray),
      var(--gray),
      var(--gray),
      var(--gray)
    );
  }

  .a-tag-topic,
  .a-tag-topic:visited,
  .a-tag-topic:hover,
  .a-tag-topic:focus,
  .a-tag-topic:active {
    border-bottom: none;
    outline-offset: 1px;

    .a-tag-topic__text {
      // Move the underline down 1px.
      padding-bottom: 1px;
      border-bottom: 1px dotted var(--gold-80);
    }
  }

  .a-tag-topic:hover .a-tag-topic__text {
    border-bottom: 1px solid var(--gold-80);
  }

  .a-tag-topic:focus {
    outline-color: var(--gray);

    .a-tag-topic__text {
      border-bottom-style: solid !important;
    }
  }
}

// Tag group sets the spacing between tags.
.m-tag-group {
  // Remove list (ul/ol) bullets styles.
  padding-left: 0;
  list-style-type: none;

  // Mobile only.
  @include respond-to-max($bp-xs-max) {
    li {
      margin-bottom: 0;
    }
  }

  // Tablet and above.
  @include respond-to-min($bp-sm-min) {
    display: flex;
    gap: math.div(15px, $btn-font-size) + em;
    flex-wrap: wrap;
  }

  &:has(.a-tag-filter) {
    display: flex;
    gap: math.div(15px, $btn-font-size) + em;
    flex-wrap: wrap;
  }
}

html[lang='ar'] .m-tag-group {
  // This is needed for right-to-left (RTL) lists.
  padding-right: 0;
}
