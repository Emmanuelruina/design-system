{"version":3,"sources":["webpack://cfpb-design-system/./docs/assets/js/interstitial.js"],"names":["page","name","replace","results","RegExp","exec","location","search","decodeURIComponent","getUrlParameter","window","PAGES_ALLOWED","localStorage","getItem","Date","parse","pageNames","document","querySelectorAll","i","length","textContent","querySelector","classList","add","remove","setAttribute","setItem"],"mappings":"MAWA,IAAMA,EAPN,SAA0BC,GACxBA,EAAOA,EAAKC,QAAS,OAAQ,OAAQA,QAAS,OAAQ,OACtD,IACMC,EADQ,IAAIC,OAAQ,SAAWH,EAAO,aACtBI,KAAMC,SAASC,QACrC,OAAmB,OAAZJ,EAAmB,GAAKK,mBAAoBL,EAAQ,GAAGD,QAAS,MAAO,MAGnEO,CAAiB,QAE9B,GAAKT,GAAQU,OAAOC,cAAcX,GAAQ,CAExC,GAAKY,aAAaC,QAAS,6BACb,IAAIC,KACCA,KAAKC,MAAOH,aAAaC,QAAS,8BACE,IAAO,GAAK,GAAK,IACtC,IAC9BH,OAAOJ,SAASJ,QAASQ,OAAOC,cAAcX,IAIlD,IADA,IAAMgB,EAAYC,SAASC,iBAAkB,iCACnCC,EAAI,EAAGA,EAAIH,EAAUI,OAAQD,IACrCH,EAAUG,GAAGE,YAAb,WAAgCrB,EAAhC,KAEFiB,SAASK,cAAe,oCAAqCC,UAAUC,IAAK,2BAC5EP,SAASK,cAAe,iCAAkCC,UAAUE,OAAQ,YAC5ER,SAASK,cAAe,uCAAwCI,aAAc,OAAQhB,OAAOC,cAAcX,IAC3GY,aAAae,QAAS,2BAA4B,IAAIb,Q","file":"interstitial.js","sourcesContent":["/**\n * @param {String} name - The key of the URL query parameter to retrieve\n * @returns {String} - Value of URL query parameter\n */\nfunction getUrlParameter( name ) {\n  name = name.replace( /[\\[]/, '\\\\[' ).replace( /[\\]]/, '\\\\]' );\n  const regex = new RegExp( '[\\\\?&]' + name + '=([^&#]*)' );\n  const results = regex.exec( location.search );\n  return results === null ? '' : decodeURIComponent( results[1].replace( /\\+/g, ' ' ) );\n}\n\nconst page = getUrlParameter( 'page' );\n\nif ( page && window.PAGES_ALLOWED[page] ) {\n  // Skip the interstitial page if they've seen it within the past two weeks\n  if ( localStorage.getItem( 'cms-directions-last-seen' ) ) {\n    const now = new Date();\n    const lastSeen = Date.parse( localStorage.getItem( 'cms-directions-last-seen' ) );\n    const daysSinceDirectionsSeen = ( now - lastSeen ) / 1000 / 60 / 60 / 24;\n    if ( daysSinceDirectionsSeen <= 14 ) {\n      window.location.replace( window.PAGES_ALLOWED[page] );\n    }\n  }\n  const pageNames = document.querySelectorAll( '[data-interstitial-page-name]' );\n  for ( let i = 0; i < pageNames.length; i++ ) {\n    pageNames[i].textContent = `\"${ page }\"`;\n  }\n  document.querySelector( '[data-interstitial-notification]' ).classList.add( 'm-notification__visible' );\n  document.querySelector( '[data-interstitial-next-step]' ).classList.remove( 'u-hidden' );\n  document.querySelector( '[data-interstitial-redirect-button]' ).setAttribute( 'href', window.PAGES_ALLOWED[page] );\n  localStorage.setItem( 'cms-directions-last-seen', new Date() );\n}\n"],"sourceRoot":""}